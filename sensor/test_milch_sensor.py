import milch_sensor
import unittest

class Test(unittest.TestCase):

    def test_simple_is_milk_H(self):
        result = milch_sensor.is_milk_H([100,100,100,10,10,10,10,10,10,10],(3,10),11)
        self.assertEqual(True,result["is"])

    def test_simple_is_milk_not_H(self):
        result = milch_sensor.is_milk_H([100,100,100,10,10,10,10,10,10,10],(2,10),11)
        self.assertEqual(False,result["is"])


    def test_real_data_is_milk_H(self):
        data = [169.774,173.742,177.71,181.678,185.646,189.614,191.842,194.071,196.299,198.527,200.756,201.706,202.657,203.608,204.558,205.509,202.37,199.231,196.092,192.953,189.815,184.682,179.55,174.418,169.285,164.153,157.675,151.196,144.718,138.24,131.761,124.864,117.967,111.07,104.173,97.276,91.7821,86.2882,80.7943,75.3005,69.8066,66.576,63.3454,60.1147,56.8841,53.6535,51.8183,49.9831,48.1479,46.3126,44.4774,44.2611,44.0449,43.8286,43.6123,43.396,43.7273,44.0586,44.3898,44.7211,45.0524,44.6018,44.1513,43.7008,43.2503,42.7997,43.3694,43.939,44.5086,45.0782,45.6478,44.8955,44.1432,43.3908,42.6385,41.8861,41.7079,41.5296,41.3514,41.1731,40.9949,40.8898,40.7848,40.6798,40.5747,40.4697,40.9453,41.4209,41.8966,42.3722,42.8478,43.9505,45.0533,46.156,47.2587,48.3614,50.377,52.3926,54.4083,56.4239,58.4395,61.0153,63.5912,66.167,68.7428,71.3186,73.7456,76.1726,78.5996,81.0266,83.4536,85.5693,87.6849,89.8006,91.9162,94.0318,94.9273,95.8227,96.7182,97.6136,98.5091,99.5577,100.606,101.655,102.704,103.752,103.777,103.802,103.827,103.852,103.877,104.038,104.2,104.361,104.522,104.684,103.992,103.3,102.609,101.917,101.225,100.658,100.092,99.5251,98.9584,98.3917,97.8092,97.2268,96.6444,96.0619,95.4795,94.6662,93.8529,93.0396,92.2263,91.413,89.9741,88.5352,87.0963,85.6574,84.2184,85.2668,86.3152,87.3636,88.412,89.4604,90.6544,91.8484,93.0424,94.2365,95.4305,95.0524,94.6744,94.2963,93.9183,93.5402,92.5872,91.6341,90.6811,89.728,88.775,86.8619,84.9488,83.0358,81.1227,79.2096,78.7914,78.3731,77.9549,77.5366,77.1183,77.0811,77.0438,77.0066,76.9693,76.9321,77.9126,78.8931,79.8737,80.8542,81.8347,84.1525,86.4702,88.7879,91.1057,93.4234,96.0249,98.6265,101.228,103.83,106.431,108.743,111.055,113.367,115.679,117.991,117.342,116.693,116.044,115.395,114.746,115.683,116.621,117.558,118.496,119.433,119.259,119.084,118.91,118.735,118.561,117.324,116.088,114.851,113.615,112.378,111.27,110.162,109.054,107.947,106.839,105.853,104.867,103.881,102.895,101.909,100.975,100.041,99.1068,98.1726,97.2385,96.1239,95.0093,93.8946,92.78,91.6654,90.9509,90.2364,89.5219,88.8075,88.093,87.5574,87.0218,86.4862,85.9507,85.4151,84.6304,83.8458,83.0611,82.2764,81.4918,80.8823,80.2728,79.6633,79.0539,78.4444,77.3593,76.2742,75.189,74.1039,73.0188,71.3509,69.683,68.0151,66.3473,64.6794,63.3112,61.9431,60.5749,59.2067,57.8386,59.0919,60.3452,61.5985,62.8518,64.1051,64.4931,64.8812,65.2693,65.6573,66.0454,64.1979,62.3503,60.5028,58.6553,56.8077,55.7223,54.6369,53.5515,52.4661,51.3807,50.8288,50.2769,49.725,49.1731,48.6212,48.1875,47.7538,47.3201,46.8865,46.4528,45.6655,44.8783,44.0911,43.3038,42.5166,41.2872,40.0579,38.8285,37.5991,36.3698,34.4812,32.5926,30.704,28.8155,26.9269,25.3908,23.8547,22.3187,20.7826,19.2465,18.8103,18.3742,17.9381,17.5019,17.0658,19.0855,21.1052,23.125,25.1447,27.1644,31.3881,35.6117,39.8353,44.059,48.2826,51.9345,55.5863,59.2382,62.89,66.5419,66.9652,67.3886,67.812,68.2354,68.6587,66.7601,64.8615,62.9629,61.0643,59.1657,55.5387,51.9117,48.2847,44.6576,41.0306,35.5089,29.9872,24.4655,18.9438,13.4221,7.55682,1.69151,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
        result = milch_sensor.is_milk_H(data)
        self.assertEqual(True,result["is"])

    def test_real_data_is_milk_fresh(self):
        data = [185.29,189.994,194.699,199.404,204.108,208.813,212.559,216.306,220.052,223.799,227.545,229.226,230.908,232.589,234.27,235.952,233.754,231.556,229.358,227.16,224.962,220.257,215.551,210.846,206.141,201.435,194.997,188.559,182.121,175.683,169.245,161.015,152.785,144.554,136.324,128.094,121.515,114.935,108.356,101.776,95.1965,90.6161,86.0356,81.4552,76.8748,72.2944,69.4682,66.6421,63.8159,60.9898,58.1636,57.3171,56.4706,55.6241,54.7776,53.9312,55.5908,57.2505,58.9102,60.5699,62.2296,62.1106,61.9915,61.8725,61.7535,61.6345,63.6443,65.654,67.6638,69.6736,71.6834,73.3931,75.1028,76.8125,78.5222,80.2319,82.3334,84.4349,86.5364,88.6379,90.7394,92.9459,95.1524,97.359,99.5655,101.772,104.474,107.176,109.878,112.58,115.282,117.984,120.687,123.39,126.092,128.795,132.156,135.517,138.878,142.239,145.6,148.374,151.148,153.922,156.696,159.47,160.675,161.879,163.083,164.287,165.491,168.234,170.977,173.72,176.463,179.206,180.275,181.344,182.412,183.481,184.55,185.532,186.513,187.495,188.476,189.458,190.269,191.079,191.89,192.701,193.512,194.79,196.068,197.346,198.624,199.902,200.945,201.988,203.031,204.074,205.116,206.572,208.029,209.485,210.941,212.397,213.844,215.292,216.739,218.187,219.635,220.418,221.201,221.984,222.767,223.551,225.92,228.29,230.66,233.03,235.399,237.069,238.738,240.407,242.076,243.746,244.773,245.799,246.826,247.853,248.88,248.42,247.961,247.501,247.042,246.582,244.946,243.309,241.673,240.036,238.4,235.163,231.925,228.688,225.451,222.213,222.055,221.897,221.739,221.581,221.423,221.487,221.551,221.616,221.68,221.745,222.729,223.713,224.697,225.681,226.666,228.225,229.784,231.343,232.902,234.46,235.66,236.859,238.058,239.257,240.457,240.378,240.299,240.22,240.141,240.062,237.038,234.013,230.988,227.963,224.939,224.809,224.679,224.549,224.419,224.289,224.574,224.859,225.144,225.428,225.713,226.692,227.672,228.651,229.631,230.61,232.553,234.495,236.437,238.379,240.321,242.432,244.543,246.654,248.765,250.875,251.986,253.096,254.207,255.317,256.428,256.784,257.14,257.496,257.853,258.209,257.151,256.094,255.036,253.979,252.921,249.217,245.512,241.807,238.103,234.398,231.126,227.855,224.583,221.312,218.04,215.227,212.415,209.602,206.79,203.977,201.241,198.505,195.77,193.034,190.298,186.61,182.921,179.233,175.544,171.856,169.062,166.267,163.472,160.678,157.883,159.854,161.824,163.795,165.765,167.736,168.026,168.316,168.607,168.897,169.187,168.702,168.217,167.733,167.248,166.763,166.569,166.376,166.182,165.988,165.794,164.655,163.515,162.375,161.236,160.096,158.165,156.234,154.303,152.373,150.442,149.436,148.431,147.426,146.421,145.416,144.566,143.716,142.865,142.015,141.165,139.307,137.448,135.59,133.731,131.873,129.294,126.716,124.138,121.56,118.982,117.743,116.505,115.266,114.028,112.79,114.141,115.493,116.844,118.195,119.547,121.757,123.967,126.178,128.388,130.598,131.483,132.368,133.252,134.137,135.022,134.513,134.005,133.496,132.988,132.48,130.621,128.762,126.904,125.045,123.186,120.188,117.189,114.191,111.193,108.194,104.221,100.248,96.2756,92.3027,88.3299,84.7919,81.2539,77.7159,74.178,70.64,68.7652,66.8905,65.0157,63.141,61.2663,59.7631,58.26,56.7569,55.2537,53.7506,52.576,51.4013,50.2267,49.052,47.8774]
        result = milch_sensor.is_milk_fresh(data)
        self.assertEqual(True,result["is"])